@import 'tailwindcss';

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 221 83% 53%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 221 83% 53%;
    --radius: 0.5rem;
    
    /* Nova paleta ERP baseada nas imagens */
    --erp-dark: 220 100% 13%;
    --erp-medium: 210 100% 24%;
    --erp-light: 195 100% 37%;
    --erp-soft: 195 50% 70%;
    --erp-pale: 195 30% 90%;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 5%; /* Preto quase puro: rgb(13 13 13) */
    --card-foreground: 220 14% 96%; /* gray-100: rgb(243 244 246) */
    --popover: 0 0% 5%; /* Preto quase puro */
    --popover-foreground: 220 14% 96%; /* gray-100 */
    --primary: 221 83% 53%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 5%; /* Preto quase puro para hover - mantém mesmo fundo */
    --accent-foreground: 220 14% 96%; /* gray-100 */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 215 16% 47%; /* gray-600 para bordas: rgb(75 85 99) */
    --input: 215 16% 47%;
    --ring: 221 83% 53%;
    
    /* Cores ERP ajustadas para dark mode */
    --erp-dark: 220 100% 20%;
    --erp-medium: 210 100% 35%;
    --erp-light: 195 100% 45%;
    --erp-soft: 195 50% 60%;
    --erp-pale: 195 30% 25%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }
  
  html {
    background-color: hsl(var(--background)) !important;
    color: hsl(var(--foreground)) !important;
  }
  
  html.dark {
    background-color: hsl(var(--background)) !important;
    color: hsl(var(--foreground)) !important;
  }
  
  body {
    background-color: hsl(var(--background)) !important;
    color: hsl(var(--foreground)) !important;
    transition: background-color 200ms ease-in-out, color 200ms ease-in-out;
    min-height: 100vh;
  }
  
  /* Garantir que elementos com bg-card usem a variável correta */
  .bg-card {
    background-color: hsl(var(--card));
  }
  
  /* Garantir que popover seja opaco */
  .bg-popover {
    background-color: hsl(var(--popover)) !important;
  }
  
  /* Forçar background escuro em elementos principais quando dark */
  html.dark body {
    background-color: hsl(var(--background)) !important;
  }
  
  /* Transições suaves para mudanças de tema */
  * {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }
}

/* Garantir que SelectContent e DropdownMenuContent sejam opacos e fiquem na frente */
[data-radix-select-content],
[data-radix-dropdown-menu-content] {
  background-color: hsl(var(--popover)) !important;
  opacity: 1 !important;
  z-index: 9999 !important;
}

/* Garantir que o texto selecionado no SelectTrigger seja gray-100 no dark mode */
.dark [data-radix-select-value],
html.dark [data-radix-select-value],
[data-radix-select-trigger] [data-radix-select-value].dark,
.dark [data-radix-select-trigger] [data-radix-select-value],
html.dark [data-radix-select-trigger] [data-radix-select-value],
.dark [data-radix-select-trigger] span[data-radix-select-value],
html.dark [data-radix-select-trigger] span[data-radix-select-value],
.dark [data-radix-select-trigger] span:not([class*="lucide"]):not([class*="icon"]):not([class*="opacity"]),
html.dark [data-radix-select-trigger] span:not([class*="lucide"]):not([class*="icon"]):not([class*="opacity"]),
.dark [data-radix-select-trigger] > span:not([class*="lucide"]):not([class*="icon"]):not([class*="opacity"]),
html.dark [data-radix-select-trigger] > span:not([class*="lucide"]):not([class*="icon"]):not([class*="opacity"]) {
  color: rgb(243 244 246) !important; /* gray-100 */
}

/* Garantir que qualquer texto dentro do SelectTrigger seja gray-100 no dark mode (exceto ícones) */
.dark [data-radix-select-trigger],
html.dark [data-radix-select-trigger] {
  color: rgb(243 244 246) !important; /* gray-100 */
}

/* Forçar cor do texto renderizado pelo SelectValue */
.dark [data-radix-select-trigger] [data-radix-select-value] *,
html.dark [data-radix-select-trigger] [data-radix-select-value] * {
  color: rgb(243 244 246) !important; /* gray-100 */
}

/* Estilos para o BOT IA Flutuante */
.chat-bot-floating {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: 1000;
}

@media (max-width: 640px) {
  .chat-bot-floating {
    bottom: 1rem;
    right: 1rem;
  }
}
